import com.jcraft.jsch.*;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.OutputStream;

public class SSHConnection {
    public static void main(String[] args) {
        String host = "your-unix-host";
        String user = "your-username";
        String password = "your-password";
        int port = 22;

        try {
            JSch jsch = new JSch();
            Session session = jsch.getSession(user, host, port);
            session.setPassword(password);

            // Avoid asking for key confirmation
            session.setConfig("StrictHostKeyChecking", "no");

            session.connect(); // Connect to Unix server
            System.out.println("Connected to Unix");

            // Execute a command on Unix server
            ChannelExec channelExec = (ChannelExec) session.openChannel("exec");

            // Set the command you want to run
            String command = "your-command-here";  // e.g., "ls -l /home/your-directory"
            channelExec.setCommand(command);

            // Get the input stream to read the command's output
            BufferedReader reader = new BufferedReader(new InputStreamReader(channelExec.getInputStream()));
            channelExec.connect(); // Execute command

            // Print command output
            String line;
            while ((line = reader.readLine()) != null) {
                System.out.println(line);
            }

            // Wait for the command to finish
            channelExec.disconnect();

            System.out.println("Command execution finished.");

            // Disconnect session when your tasks are done
            session.disconnect();
            System.out.println("Disconnected from Unix");
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
